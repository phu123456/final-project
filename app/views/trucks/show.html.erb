<h3>
  <center>ทะเบียนรถ: <%= @truck.plate %></center>
</h3>
<br>
<!--

<%= @truck.total_engine_distance %>
<%= link_to 'น้ำมันเครื่อง', truck_reEngine_path(id: @truck.id), method: :post, data: { confirm: 'Are you sure?' } %>
<%= @truck.total_transmission_distance %>
<%= link_to 'น้ำมันเกียร์', truck_reTransmission_path(id: @truck.id), method: :post, data: { confirm: 'Are you sure?' } %>
<%= @truck.total_gear_distance %>
<%= link_to 'น้ำมันแฟืองท้าย', truck_reGear_path(id: @truck.id), method: :post, data: { confirm: 'Are you sure?' } %>
<%= @truck.total_air_distance %>
<%= link_to 'กรองอากาศ', truck_reAir_path(id: @truck.id), method: :post, data: { confirm: 'Are you sure?' } %>
<%= @truck.total_coolant_distance %>
<%= link_to 'น้ำยาหม้อน้ำ', truck_reCoolant_path(id: @truck.id), method: :post, data: { confirm: 'Are you sure?' } %>
<%= @truck.total_blower_distance %>
<%= link_to 'น้ำยาปั้มลม', truck_reBlower_path(id: @truck.id), method: :post, data: { confirm: 'Are you sure?' } %>

<button style="position:relative;left:1025px;top:90px;" class="button" data-toggle="modal" data-target=".bs-example-modal-sm">รีเซ็ต</button> -->

<!-- Small modal -->

<div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 id="text-center">รีเซ็ตระยะทาง<h4>
      </div>
        <table id="text-center" class="table table-bordered">
          <tr>
            <td>น้ำมันเครื่อง</td>
            <td>
              <script type="text/javascript">
              function AlertIt() {
              var answer = confirm ("Please click on OK to continue.")
              if (answer)
              window.location="http://www.continue.com";
              }
              </script>

              <a href="javascript:AlertIt();">click me</a>
            </td>
          </tr>

          <tr>
            <td>น้ำมันเกียร์</td>
            <td>2</td>
          </tr>

          <tr>
            <td>เฟืองท้าย</td>
            <td>2</td>
          </tr>

          <tr>
            <td>กรองอากาศ</td>
            <td>2</td>
          </tr>

        </table>
    </div>
  </div>
</div>




<!--
<div class="btn-group">
  <button style="position:relative;left:1010px;top:20.4px;"  class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    &nbsp&nbsp&nbsp&nbsp น้ำมันเครื่อง &nbsp&nbsp&nbsp&nbsp <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    ...
  </ul>
</div> -->

<div class="progress">
  <div id ="engine-oil" class="progress-bar" role="progressbar" aria-valuenow="40" aria-valuemin="100" aria-valuemax="90" style="">
  </div>
</div>


<div class="progress">
  <div id="transmission-oil" class="progress-bar" role="progressbar" aria-valuenow="15" aria-valuemin="100" aria-valuemax="90" style="">
  </div>
</div>

<div class="progress">
  <div id="gear-oil" class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="100" aria-valuemax="90" style="">
  </div>
</div>

<div class="progress">
  <div id="air-filter" class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="10จ" aria-valuemin="0" aria-valuemax="90" style="">
  </div>
</div>

<div class="progress">
  <div id="water-coolant" class="progress-bar" role="progressbar" aria-valuenow="40" aria-valuemin="100" aria-valuemax="90" style="">
  </div>
</div>

<div class="progress">
  <div id="cement-blower" class="progress-bar" role="progressbar" aria-valuenow="40" aria-valuemin="100" aria-valuemax="90" style="">
  </div>
</div>


<br>
<table id="text-center" class= "table table-striped">
  <thead>
    <tr id="bold">
      <td>วันที่ ป/ด/ว</td>
      <td>พนักงานขับรถ</td>
      <td>จำนวนตัน</td>
      <td>น้ำมัน(ลิตร)</td>
      <td>ระยะทาง</td>
      <td>เรทน้ำมัน</td>
      <td>ชนิดปูน</td>
      <td>สถานที่ส่งของ</td>
    </tr>
  </thead>

<% @trips.each do |trip| %>
  <tr>
    <td><%= trip.trip_date %></td>
    <td><%= trip.driver %></td>
    <td><%= trip.weight %></td>
    <td><%= trip.liter %></td>
    <td><%= trip.distance %></td>
    <td><%= trip.average %></td>
    <td><%= trip.cement %></td>
    <td><%= trip.destination %></td>
    <td class="table-bordered" align="center"><%= link_to 'แก้ไข', edit_truck_trip_path(@truck, trip) %> </td>
  </tr>
<% end %>
</table>

<br>


<script>
  // -----------engine oil bar------------
  var engine_oil_bar = ( <%= @truck.total_engine_distance %>/<%= @maintenance_red.engine_alert.to_i %> ) * 100

  document.getElementById("engine-oil").innerHTML = "น้ำมันเครื่อง " + engine_oil_bar.toFixed(1) + "%" + "  (" + (<%= @truck.total_engine_distance %>).toLocaleString() + "/" + (<%= @maintenance_red.engine_alert.to_i %>).toLocaleString() + ")";

  if ( <%= @truck.total_engine_distance %> < <%= @maintenance_orange.engine_alert.to_i %> ){
    document.getElementById("engine-oil").className = "progress-bar progress-bar-success";
  }
  else if (( <%= @truck.total_engine_distance %> < <%= @maintenance_red.engine_alert.to_i %> )) {
    document.getElementById("engine-oil").className = "progress-bar progress-bar-warning";
  }
  else {
    document.getElementById("engine-oil").className = "progress-bar progress-bar-danger";
  }
  // another loop
  if (engine_oil_bar > 100) {
    engine_oil_bar = 100
    document.getElementById("engine-oil").style.width = engine_oil_bar + "%";
  }
  else {
    document.getElementById("engine-oil").style.width = engine_oil_bar + "%";
  }

  // -----------transmission oil bar------------
  var transmission_oil_bar = ( <%= @truck.total_transmission_distance %>/<%= @maintenance_red.transmission_alert.to_i %> ) * 100

  document.getElementById("transmission-oil").innerHTML = "น้ำมันเกียร์ " + transmission_oil_bar.toFixed(1) + "%" + "  (" + (<%= @truck.total_transmission_distance %>).toLocaleString() + "/" + (<%= @maintenance_red.transmission_alert.to_i %>).toLocaleString() + ")";

  if ( <%= @truck.total_transmission_distance %> < <%= @maintenance_orange.transmission_alert.to_i %> ){
    document.getElementById("transmission-oil").className = "progress-bar progress-bar-success";
  }
  else if (( <%= @truck.total_transmission_distance %> < <%= @maintenance_red.transmission_alert.to_i %> )) {
    document.getElementById("transmission-oil").className = "progress-bar progress-bar-warning";
  }
  else {
    document.getElementById("transmission-oil").className = "progress-bar progress-bar-danger";
  }
  // another loop
  if (transmission_oil_bar > 100) {
    transmission_oil_bar = 100
    document.getElementById("transmission-oil").style.width = transmission_oil_bar + "%";
  }
  else {
    document.getElementById("transmission-oil").style.width = transmission_oil_bar + "%";
  }

  // -----------gear oil bar------------
  var gear_oil_bar = ( <%= @truck.total_gear_distance %>/<%= @maintenance_red.gear_alert.to_i %> ) * 100

  document.getElementById("gear-oil").innerHTML = "น้ำมันเฟืองท้าย " + gear_oil_bar.toFixed(1) + "%" + "  (" + (<%= @truck.total_gear_distance %>).toLocaleString() + "/" + (<%= @maintenance_red.gear_alert.to_i %>).toLocaleString() + ")" ;

  if ( <%= @truck.total_gear_distance %> < <%= @maintenance_orange.gear_alert.to_i %> ){
    document.getElementById("gear-oil").className = "progress-bar progress-bar-success";
  }
  else if (( <%= @truck.total_gear_distance %> < <%= @maintenance_red.gear_alert.to_i %> )) {
    document.getElementById("gear-oil").className = "progress-bar progress-bar-warning";
  }
  else {
    document.getElementById("gear-oil").className = "progress-bar progress-bar-danger";
  }
  // another loop
  if (gear_oil_bar > 100) {
    gear_oil_bar = 100
    document.getElementById("gear-oil").style.width = gear_oil_bar + "%";
  }
  else {
    document.getElementById("gear-oil").style.width = gear_oil_bar + "%";
  }

  // -----------air filter bar------------
  var air_filter_bar = ( <%= @truck.total_air_distance %>/<%= @maintenance_red.air_alert.to_i %> ) * 100

  document.getElementById("air-filter").innerHTML = "กรอกอากาศ " + air_filter_bar.toFixed(1) + "%" + "  (" + (<%= @truck.total_air_distance %>).toLocaleString() + "/" + (<%= @maintenance_red.air_alert.to_i %>).toLocaleString() + ")";

  if ( <%= @truck.total_air_distance %> < <%= @maintenance_orange.air_alert.to_i %> ){
    document.getElementById("air-filter").className = "progress-bar progress-bar-success";
  }
  else if (( <%= @truck.total_air_distance %> < <%= @maintenance_red.air_alert.to_i %> )) {
    document.getElementById("air-filter").className = "progress-bar progress-bar-warning";
  }
  else {
    document.getElementById("air-filter").className = "progress-bar progress-bar-danger";
  }
  // another loop
  if (air_filter_bar > 100) {
    air_filter_bar = 100
    document.getElementById("air-filter").style.width = air_filter_bar + "%";
  }
  else {
    document.getElementById("air-filter").style.width = air_filter_bar + "%";
  }

  // -----------water coolant bar------------
  var water_coolant_bar = ( <%= @truck.total_coolant_distance %>/<%= @maintenance_red.coolant_alert.to_i %> ) * 100

  document.getElementById("water-coolant").innerHTML = "น้ำยาหม้อน้ำ " + water_coolant_bar.toFixed(1) + "%" + "  (" + (<%= @truck.total_coolant_distance %>).toLocaleString() + "/" + (<%= @maintenance_red.coolant_alert.to_i %>).toLocaleString() + ")";

  if ( <%= @truck.total_coolant_distance %> < <%= @maintenance_orange.coolant_alert.to_i %> ){
    document.getElementById("water-coolant").className = "progress-bar progress-bar-success";
  }
  else if (( <%= @truck.total_coolant_distance %> < <%= @maintenance_red.coolant_alert.to_i %> )) {
    document.getElementById("water-coolant").className = "progress-bar progress-bar-warning";
  }
  else {
    document.getElementById("water-coolant").className = "progress-bar progress-bar-danger";
  }
  // another loop
  if (water_coolant_bar > 100) {
    water_coolant_bar = 100
    document.getElementById("water-coolant").style.width = water_coolant_bar + "%";
  }
  else {
    document.getElementById("water-coolant").style.width = water_coolant_bar + "%";
  }

  // -----------cement blower bar------------
  var cement_blower_bar = ( <%= @truck.total_blower_distance %>/<%= @maintenance_red.blower_alert.to_i %> ) * 100

  document.getElementById("cement-blower").innerHTML = "น้ำยาปั้มลม " + cement_blower_bar.toFixed(1) + "%" + "  (" + (<%= @truck.total_blower_distance %>).toLocaleString() + "/" + (<%= @maintenance_red.blower_alert.to_i %>).toLocaleString() + ")";

  if ( <%= @truck.total_blower_distance %> < <%= @maintenance_orange.blower_alert.to_i %> ){
    document.getElementById("cement-blower").className = "progress-bar progress-bar-success";
  }
  else if (( <%= @truck.total_blower_distance %> < <%= @maintenance_red.blower_alert.to_i %> )) {
    document.getElementById("cement-blower").className = "progress-bar progress-bar-warning";
  }
  else {
    document.getElementById("cement-blower").className = "progress-bar progress-bar-danger";
  }
  // another loop
  if (cement_blower_bar > 100) {
    cement_blower_bar = 100
    document.getElementById("cement-blower").style.width = cement_blower_bar + "%";
  }
  else {
    document.getElementById("cement-blower").style.width = cement_blower_bar + "%";
  }

</script>


<%= link_to 'create', new_truck_trip_path(@truck) %> |
<%= link_to 'Edit', edit_truck_path(@truck) %> |
<%= link_to 'Back', trucks_path %>
